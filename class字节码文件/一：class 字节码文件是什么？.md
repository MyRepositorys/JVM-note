# 一：class 字节码文件是什么？



> ### class 字节码文件是什么？

```java
java源文件被编译后为字节码文件，Java代码的执行是先编译后执行，
编译后的java字节码文件是8位字节的二进制流，也就是说数据最小的单位是字节，不是位
```





> ### class 字节码文件里面基本有哪些数据

| 数据名称      | 描述                                                      | 数量 |
| ------------- | --------------------------------------------------------- | ---- |
| magic         | 魔数                                                      | 1    |
| version       | 这个版本是JDK 的版本，是指编译java源代码所使用的JDK 版本  | 1    |
| constant_pool | 这个常量池存放的是java 源代码中的字面量，字符串，和描述符 | 1    |
| access_flag   | 这个是描述类的，修饰符，是接口还是类，有无final           | 1    |
| this_class    | 当前类的描述符，名称之类的                                | 1    |
| super_class   | 描述当前类的父类信息的                                    | 1    |
| interfaces    | 当前类所有的实现的接口的信息                              | 1    |
| fields        | 字段表                                                    | 多个 |
| methods       | 方法表                                                    | 多个 |
| attributes    | 属性表                                                    | 多个 |

```java
字节码中的数据，是不是按照顺序排列的呢？
	字节码中的数据是按照上表中的顺序一一排列的，但是有的数据的长度是不定的，数据的长度是在数据俩面的属性指定的，这样，也就能判断本数据的长度，下一个数据的开始偏移地址，
	除了attributes 属性表，可以被三种结构所有，字段表，方法表，class字节码文件的最后描述类的属性，
	字段表，方法表中的属性表是节选的，有可能是没有的，但是attribute_count 肯定都有，对于每个字段的字段表，每个方法的方法表
为什么说字节码文件中基本有哪些数据，那是因为，不同的JDK，编译后的class 文件的格式可能有差别
```





> ### 字节码文件中的数据的类型



```java
前面我们说过字节码文件的最小单位是字节，又说了，字节码文件中有上面表中的数据，那么问题是？
在文件中都是二进制数据，101010... 10序列是没有意义的，二进制序列的上下文才是该数据的意义，也就是说数据的结构是什么样的？

字节码中字节的上下文，数据的结构，有没有基本的单位呢？
```

| 单位 | 占据多少字节     |
| ---- | ---------------- |
| u1   | 1 byte unsigned  |
| u2   | 2 byte  unsigned |
| u4   | 4 byte unsigned  |
| u8   | 8 byte unsigned  |



> ### class 字节码文件中二进制的 高低位

```json
如16进制的描述
	CA FE BA BE 00 32 ..........	
前面我们说了字节文件的最小单位是字节，魔数占据了4个字节，CA FE BA BE 各 1 byte，上面说了，字节码的基本单位有四种 那么魔数的基本单位是  u4
00 32 是字节码的版本号（u2），那么高低位怎么分呢？
	00 是高位，32 是低位
```

